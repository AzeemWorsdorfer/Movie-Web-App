{% extends "base.html" %}

{% block title %}User Selection{% endblock %}

{% block content %}
    <div class="card shadow-sm p-4">
        <h2 class="card-title mb-4">Select a User:</h2>
        
        {% if users %}
        <ul class="list-group mb-4">
            {% for user in users %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                **{{ user.name }}** <a href="{{ url_for('user_movies', user_id=user.id) }}" class="btn btn-sm btn-primary">
                    View Movies
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <div class="alert alert-info">No users found. Please create a new user below!</div>
        {% endif %}

        <hr>

        <h2 class="mt-4 mb-3">Create New User</h2>
        <form method="POST" action="{{ url_for('home') }}" class="input-group">
            <input type="text" id="user_name" name="user_name" class="form-control" placeholder="New User Name" required>
            <button type="submit" class="btn btn-success">
                <i class="fas fa-user-plus me-1"></i> Add User
            </button>
        </form>
    </div>
{% endblock %}